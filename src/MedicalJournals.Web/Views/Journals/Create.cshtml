@using System.Threading.Tasks
@using MedicalJournals.Web.ViewModels
@model JournalViewModel

@{
    ViewBag.Title = "Create";
}

<h2>Create</h2>

<form asp-action="Create" enctype="multipart/form-data">
    
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>Journal</h4>
        <hr/>
        @Html.ValidationSummary(true)

        <div class="form-group">
            @Html.LabelFor(model => model.CategoryId, "Category", new {@class = "control-label col-md-2"})
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.CategoryId, Model.Categories)
                @Html.ValidationMessageFor(model => model.CategoryId)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Publisher, "Publisher", new {@class = "control-label col-md-2"})
            <div class="col-md-10">
                @Html.DisplayTextFor(model => model.Publisher)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Title, new {@class = "control-label col-md-2"})
            <div class="col-md-10">
                @Html.EditorFor(model => model.Title)
                @Html.ValidationMessageFor(model => model.Title)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Price, new {@class = "control-label col-md-2"})
            <div class="col-md-10">
                @Html.DisplayTextFor(model => model.Price)
            </div>
        </div>

        <div class="form-group">
            File (in PDF format)
            <div class="col-md-10">
                @Html.TextBoxFor(model => model.File, new {type = "file"})
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Create" class="btn btn-default"/>
            </div>
        </div>
    </div>
    @Html.HiddenFor(model => model.PublisherId, "PublisherId")
    @Html.HiddenFor(model => model.UserId, "UserId")
</form>

    <div>
        @Html.ActionLink("Back to List", "Index")
    </div>

    @section Scripts {
        @*TODO : Until script helpers are available, adding script references manually*@
        @*@Scripts.Render("~/bundles/jqueryval")*@
        <script src="@Url.Content("~/lib/jquery-validation/dist/jquery-validate.js")"></script>
        <script src="@Url.Content("~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js")"></script>
    }
